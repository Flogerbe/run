<% provide(:title, "Add new activity")%>

<h1>Add new activity</h1>

<div class="row">
	<div class="col-md-3 col-sm-3">
		Import from Garmin device
		<ul id="list_of_devices" class="nav">
		</ul>
		<div id="deviceBox">
			<input type="button" value="Re-scan" id="findDevicesButton" disabled="true" />
			<input type="button" value="Cancel Find Devices" id="cancelFindDevicesButton" disabled="true" />
		</div>
	</div>
	<div class="col-md-6">
		<div id="statusBox">
			<div id="statusText">Status Text</div>

			<div id="progressBar" style="display: none;" align="left">
				<div id="progressWrapper"><div id="progressBarDisplay"></div></div>
			</div>
		</div>

		<div id="readBox">
			File Type:
			<select name="fileTypeSelect" id="fileTypeSelect" disabled="true">
				<option value="GPSData">GPX</option>
				<option value="FitnessHistory">TCX History (all)</option>
				<option value="FitnessCourses">TCX Courses (all)</option>
				<option value="FitnessHistoryDirectory">TCX History Directory</option>
				<option value="FitnessCoursesDirectory">TCX Courses Directory</option>
				<!--<option value="FitnessHistoryDetail" disabled>   TCX History Detail</option>
				<option value="FitnessCoursesDetail" disabled>   TCX Courses Detail</option>-->
				<option value="FitnessWorkouts">TCX Workouts</option>
				<option value="FitnessUserProfile">TCX User Profile</option>
				<option value="FitnessActivityGoals">TCX Activity Goals</option>
			</select>

			<input type="button" value="Read From Device" id="readDataButton" disabled="true" />
			<input type="button" value="Cancel Read" id="cancelReadDataButton" disabled="true" />

		<!--	<textarea id="readTracksText" name="readTracksText" rows="75" cols="75"></textarea>-->
			<br/>
			Listing:
			<table id="activityListingHeader" cellpadding="3px">
				<tr>
					<td><input type="checkbox" id="checkAllBox" disabled/></td>
					<td><b>Activity</b></td>
				</tr>
			</table>
			<table id="activityListing" cellpadding="3px">
					
			</table>
			<input type="button" value="Read Selected from Device" id="readSelectedButton" disabled="true" />

			<br />
			Routes: 
			<select name="readRoutesSelect" id="readRoutesSelect" disabled="true">
				<option value="-1">No Routes Found</option>
			</select>

			<br />
			Tracks: 
			<select name="readTracksSelect" id="readTracksSelect" disabled="true">
				<option value="-1">No Tracks Found</option>
			</select>

			<br />
			Waypoints:
			<select name="readWaypointsSelect" id="readWaypointsSelect" disabled="true">
				<option value="-1">No Waypoints Found</option>
			</select>

			Read Data String: <br />
			<textarea id="dataString" rows="25" cols="50"></textarea>

			Compressed File String: <br />
			<textarea id="compressedDataString" rows="25" cols="50"></textarea>	
		</div>
		
	</div>
</div>

<% content_for :js_includes do %>
	<%= javascript_include_tag params[:controller] %>
<% end %>
<% content_for :jquery do%>
<script type="text/javascript">
//Trigger the find devices function when they document is ready
	jQuery( document ).ready (find_garmin_devices);
</script>
<%end %>
